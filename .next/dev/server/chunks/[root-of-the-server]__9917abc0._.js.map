{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 136, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/pc/OneDrive/Desktop/ELHOUSSEIN%20FILES/BrandFlox/website/app/api/contact/route.ts"],"sourcesContent":["import nodemailer from \"nodemailer\"\nimport { type NextRequest, NextResponse } from \"next/server\"\n\nconst transporter = nodemailer.createTransport({\n  service: \"gmail\",\n  auth: {\n    user: process.env.EMAIL_USER,\n    pass: process.env.EMAIL_PASSWORD,\n  },\n})\nconst socialLinks = [\n  {\n    id: \"whatsapp\",\n    icon: `<svg fill=\"currentColor\" viewBox=\"0 0 24 24\" width=\"20\" height=\"20\">\n             <path d=\"M20.52 3.48A11.78 11.78 0 0012 0 11.94 11.94 0 000 12a11.84 11.84 0 001.69 6L0 24l6.17-1.62A11.93 11.93 0 0012 24a11.94 11.94 0 0012-12 11.78 11.78 0 00-3.48-8.52zM12 22a9.94 9.94 0 01-5.08-1.39l-.36-.21-3.65.96.97-3.56-.24-.37A9.92 9.92 0 1122 12a9.84 9.84 0 01-10 10zm5.44-7.36c-.3-.15-1.77-.87-2.04-.97s-.47-.15-.66.15-.75.97-.92 1.17-.34.22-.64.07a8.18 8.18 0 01-2.4-1.48 9 9 0 01-1.66-2.07c-.17-.3 0-.46.13-.61s.3-.35.45-.52a1.93 1.93 0 00.3-.52.56.56 0 00-.02-.54c-.07-.15-.66-1.6-.91-2.2s-.48-.48-.66-.49h-.57a1.11 1.11 0 00-.8.37A3.36 3.36 0 006 10.73a5.84 5.84 0 001.24 3.08 13.34 13.34 0 004.05 3.67 13.17 13.17 0 003.15 1.27 3 3 0 002.88-.47 2.34 2.34 0 00.71-1.56c.1-.15.1-.57-.2-.72z\"/>\n           </svg>`,\n    href: \"https://wa.me/212663108538\",\n  },\n  {\n    id: \"email\",\n    icon: `<svg fill=\"currentColor\" viewBox=\"0 0 24 24\" width=\"20\" height=\"20\">\n             <path d=\"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z\"/>\n           </svg>`,\n    href: \"mailto:brandflox@gmail.com\",\n  },\n  {\n    id: \"instagram\",\n    icon: `<svg fill=\"currentColor\" viewBox=\"0 0 24 24\" width=\"20\" height=\"20\">\n             <path d=\"M12 2.163c3.204 0 3.584.012 4.85.07 1.17.055 1.965.24 2.417.403a4.918 4.918 0 011.675 1.035 4.918 4.918 0 011.034 1.675c.164.452.348 1.247.403 2.417.058 1.266.07 1.646.07 4.85s-.012 3.584-.07 4.85c-.055 1.17-.24 1.965-.403 2.417a4.918 4.918 0 01-1.035 1.675 4.918 4.918 0 01-1.675 1.034c-.452.164-1.247.348-2.417.403-1.266.058-1.646.07-4.85.07s-3.584-.012-4.85-.07c-1.17-.055-1.965-.24-2.417-.403a4.918 4.918 0 01-1.675-1.035 4.918 4.918 0 01-1.034-1.675c-.164-.452-.348-1.247-.403-2.417C2.175 15.747 2.163 15.367 2.163 12s.012-3.584.07-4.85c.055-1.17.24-1.965.403-2.417a4.918 4.918 0 011.035-1.675A4.918 4.918 0 015.346 2.636c.452-.164 1.247-.348 2.417-.403C8.416 2.175 8.796 2.163 12 2.163zm0-2.163C8.736 0 8.332.012 7.052.07 5.773.127 4.832.309 4.052.548c-.86.273-1.59.634-2.318 1.362C1.63 2.64 1.269 3.37.996 4.23.757 5.01.575 5.95.518 7.23.46 8.51.448 8.914.448 12c0 3.086.012 3.49.07 4.77.057 1.28.239 2.22.478 3 .273.86.634 1.59 1.362 2.318.728.728 1.458 1.089 2.318 1.362.78.239 1.72.421 3 .478 1.28.058 1.684.07 4.77.07s3.49-.012 4.77-.07c1.28-.057 2.22-.239 3-.478.86-.273 1.59-.634 2.318-1.362.728-.728 1.089-1.458 1.362-2.318.239-.78.421-1.72.478-3 .058-1.28.07-1.684.07-4.77s-.012-3.49-.07-4.77c-.057-1.28-.239-2.22-.478-3-.273-.86-.634-1.59-1.362-2.318C21.632.63 20.902.269 20.042.037c-.78-.239-1.72-.421-3-.478C15.49.012 15.086 0 12 0zM12 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zm0 10.162a3.999 3.999 0 110-7.998 3.999 3.999 0 010 7.998zm6.406-11.845a1.44 1.44 0 11-2.88 0 1.44 1.44 0 012.88 0z\"/>\n           </svg>`,\n    href: \"https://www.instagram.com/brandflox\",\n  },\n];\n\n// SVG Icons for professional minimal design\nconst icons = {\n  user: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" width=\"16\" height=\"16\"><path d=\"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\"/><circle cx=\"12\" cy=\"7\" r=\"4\"/></svg>',\n   phone:\n    '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" width=\"16\" height=\"16\"><path d=\"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z\"/></svg>',\n  building:\n    '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" width=\"16\" height=\"16\"><rect x=\"4\" y=\"2\" width=\"16\" height=\"20\" rx=\"2\"/><path d=\"M9 22v-4h6v4M9 9h6M9 13h6\"/></svg>',\n  message:\n    '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" width=\"16\" height=\"16\"><path d=\"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z\"/></svg>',\n  whatsapp:\n    '<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" viewBox=\"0 0 24 24\" width=\"20\" height=\"20\"><path d=\"M20.52 3.48A11.78 11.78 0 0012 0 11.94 11.94 0 000 12a11.84 11.84 0 001.69 6L0 24l6.17-1.62A11.93 11.93 0 0012 24a11.94 11.94 0 0012-12 11.78 11.78 0 00-3.48-8.52zM12 22a9.94 9.94 0 01-5.08-1.39l-.36-.21-3.65.96.97-3.56-.24-.37A9.92 9.92 0 1122 12a9.84 9.84 0 01-10 10zm5.44-7.36c-.3-.15-1.77-.87-2.04-.97s-.47-.15-.66.15-.75.97-.92 1.17-.34.22-.64.07a8.18 8.18 0 01-2.4-1.48 9 9 0 01-1.66-2.07c-.17-.3 0-.46.13-.61s.3-.35.45-.52a1.93 1.93 0 00.3-.52.56.56 0 00-.02-.54c-.07-.15-.66-1.6-.91-2.2s-.48-.48-.66-.49h-.57a1.11 1.11 0 00-.8.37A3.36 3.36 0 006 10.73a5.84 5.84 0 001.24 3.08 13.34 13.34 0 004.05 3.67 13.17 13.17 0 003.15 1.27 3 3 0 002.88-.47 2.34 2.34 0 00.71-1.56c.1-.15.1-.57-.2-.72z\"/></svg>',\n  email:\n    '<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" viewBox=\"0 0 24 24\" width=\"20\" height=\"20\"><path d=\"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z\"/></svg>',\n  instagram:\n    '<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" viewBox=\"0 0 24 24\" width=\"20\" height=\"20\"><path d=\"M12 2.163c3.204 0 3.584.012 4.85.07 1.17.055 1.965.24 2.417.403a4.918 4.918 0 011.675 1.035 4.918 4.918 0 011.034 1.675c.164.452.348 1.247.403 2.417.058 1.266.07 1.646.07 4.85s-.012 3.584-.07 4.85c-.055 1.17-.24 1.965-.403 2.417a4.918 4.918 0 01-1.035 1.675 4.918 4.918 0 01-1.675 1.034c-.452.164-1.247.348-2.417.403-1.266.058-1.646.07-4.85.07s-3.584-.012-4.85-.07c-1.17-.055-1.965-.24-2.417-.403a4.918 4.918 0 01-1.675-1.035 4.918 4.918 0 01-1.034-1.675c-.164-.452-.348-1.247-.403-2.417C2.175 15.747 2.163 15.367 2.163 12s.012-3.584.07-4.85c.055-1.17.24-1.965.403-2.417a4.918 4.918 0 011.035-1.675A4.918 4.918 0 015.346 2.636c.452-.164 1.247-.348 2.417-.403C8.416 2.175 8.796 2.163 12 2.163zm0-2.163C8.736 0 8.332.012 7.052.07 5.773.127 4.832.309 4.052.548c-.86.273-1.59.634-2.318 1.362C1.63 2.64 1.269 3.37.996 4.23.757 5.01.575 5.95.518 7.23.46 8.51.448 8.914.448 12c0 3.086.012 3.49.07 4.77.057 1.28.239 2.22.478 3 .273.86.634 1.59 1.362 2.318.728.728 1.458 1.089 2.318 1.362.78.239 1.72.421 3 .478 1.28.058 1.684.07 4.77.07s3.49-.012 4.77-.07c1.28-.057 2.22-.239 3-.478.86-.273 1.59-.634 2.318-1.362.728-.728 1.089-1.458 1.362-2.318.239-.78.421-1.72.478-3 .058-1.28.07-1.684.07-4.77s-.012-3.49-.07-4.77c-.057-1.28-.239-2.22-.478-3-.273-.86-.634-1.59-1.362-2.318C21.632.63 20.902.269 20.042.037c-.78-.239-1.72-.421-3-.478C15.49.012 15.086 0 12 0zM12 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zm0 10.162a3.999 3.999 0 110-7.998 3.999 3.999 0 010 7.998zm6.406-11.845a1.44 1.44 0 11-2.88 0 1.44 1.44 0 012.88 0z\"/></svg>'\n};\n\nfunction getOwnerEmailTemplate(\n  data: {\n    name: string\n    email: string\n    phone: string\n    company: string\n    message: string\n  },\n  language: string,\n) {\n  const content = {\n    en: {\n      title: \"New Contact Form Submission\",\n      labels: {\n        name: \"Full Name\",\n        email: \"Email\",\n        phone: \"Phone\",\n        company: \"Company\",\n        message: \"Message\",\n      },\n    },\n    fr: {\n      title: \"Nouvelle Soumission du Formulaire de Contact\",\n      labels: {\n        name: \"Nom Complet\",\n        email: \"Email\",\n        phone: \"Téléphone\",\n        company: \"Entreprise\",\n        message: \"Message\",\n      },\n    },\n  }\n\n  const t = content[language as keyof typeof content] || content.en\n\n  return `\n    <!DOCTYPE html>\n    <html>\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${t.title}</title>\n        <style>\n          body { margin: 0; padding: 0; }\n          .icon { display: inline-block; vertical-align: middle; margin-right: 8px; color: #000000; }\n        </style>\n      </head>\n      <body style=\"margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif; background: #f5f5f5;\">\n        <div style=\"max-width: 600px; margin: 20px auto; background-color: #ffffff; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.1);\">\n          \n          <!-- Header with Logo -->\n          <div style=\"background: #ffffff; padding: 40px 30px; text-align: center; border-bottom: 2px solid #000000;\">\n           <img src=\"cid:logo\" alt=\"Brandflox\" style=\"max-height: 50px; margin-bottom: 12px;\">\n\n            <h1 style=\"margin: 0; font-size: 28px; font-weight: 700; color: #000000; letter-spacing: 0.5px;\">BRANDFLOX</h1>\n          </div>\n\n          <!-- Content -->\n          <div style=\"padding: 40px 30px; color: #1a1a1a;\">\n            <h2 style=\"margin: 0 0 25px 0; font-size: 24px; font-weight: 700; color: #000000;\">${t.title}</h2>\n            \n            <!-- Info Grid -->\n            <div style=\"margin-bottom: 35px;\">\n              <div style=\"margin-bottom: 18px; padding-bottom: 18px; border-bottom: 1px solid #e0e0e0;\">\n                <p style=\"margin: 0; font-size: 11px; color: #666666; text-transform: uppercase; font-weight: 700; letter-spacing: 0.5px;\">\n                  <span class=\"icon\">${icons.user}</span>${t.labels.name}\n                </p>\n                <p style=\"margin: 8px 0 0 0; font-size: 15px; font-weight: 600; color: #000000;\">${data.name}</p>\n              </div>\n\n              <div style=\"margin-bottom: 18px; padding-bottom: 18px; border-bottom: 1px solid #e0e0e0;\">\n                <p style=\"margin: 0; font-size: 11px; color: #666666; text-transform: uppercase; font-weight: 700; letter-spacing: 0.5px;\">\n                  <span class=\"icon\">${icons.email}</span>${t.labels.email}\n                </p>\n                <p style=\"margin: 8px 0 0 0; font-size: 15px; color: #000000;\">\n                  <a href=\"mailto:${data.email}\" style=\"color: #000000; text-decoration: none; font-weight: 600;\">${data.email}</a>\n                </p>\n              </div>\n\n              <div style=\"margin-bottom: 18px; padding-bottom: 18px; border-bottom: 1px solid #e0e0e0;\">\n                <p style=\"margin: 0; font-size: 11px; color: #666666; text-transform: uppercase; font-weight: 700; letter-spacing: 0.5px;\">\n                  <span class=\"icon\">${icons.phone}</span>${t.labels.phone}\n                </p>\n                <p style=\"margin: 8px 0 0 0; font-size: 15px; font-weight: 600; color: #000000;\">${data.phone}</p>\n              </div>\n\n              <div style=\"margin-bottom: 0;\">\n                <p style=\"margin: 0; font-size: 11px; color: #666666; text-transform: uppercase; font-weight: 700; letter-spacing: 0.5px;\">\n                  <span class=\"icon\">${icons.building}</span>${t.labels.company}\n                </p>\n                <p style=\"margin: 8px 0 0 0; font-size: 15px; font-weight: 600; color: #000000;\">${data.company || \"Not provided\"}</p>\n              </div>\n            </div>\n\n            <!-- Message -->\n            <div style=\"background: #fafafa; padding: 24px; border-radius: 6px; border-left: 3px solid #000000; margin-bottom: 30px;\">\n              <p style=\"margin: 0 0 12px 0; font-size: 11px; color: #666666; text-transform: uppercase; font-weight: 700; letter-spacing: 0.5px;\">\n                <span class=\"icon\">${icons.message}</span>${t.labels.message}\n              </p>\n              <p style=\"margin: 0; font-size: 14px; color: #1a1a1a; line-height: 1.7; white-space: pre-wrap; word-break: break-word;\">${data.message}</p>\n            </div>\n          </div>\n\n          <!-- Social Links -->\n       <!-- Social Links -->\n            <div style=\"background-color: #fafafa; padding: 25px 30px; border-top: 1px solid #e0e0e0; text-align: center;\">\n              <p style=\"margin: 0 0 15px 0; font-size: 12px; color: #666666; text-transform: uppercase; font-weight: 700; letter-spacing: 0.5px;\">\n                Connect With Us\n              </p>\n            <div style=\"text-align: center; padding: 20px 0; background-color: #fafafa;\">\n              <a href=\"https://wa.me/212663108538\" style=\"text-decoration: none; color: #000000; margin-right: 15px;\">WhatsApp</a>\n              <a href=\"mailto:brandflox@gmail.com\" style=\"text-decoration: none; color: #000000; margin-right: 15px;\">Email</a>\n              <a href=\"https://www.instagram.com/brandflox\" style=\"text-decoration: none; color: #000000;\">Instagram</a>\n            </div>\n\n            </div>\n\n\n\n\n          <!-- Footer -->\n          <div style=\"background-color: #000000; padding: 25px 30px; text-align: center; border-top: 1px solid #e0e0e0;\">\n            <p style=\"margin: 0 0 8px 0; font-size: 12px; color: #ffffff;\">© 2025 Brandflox. All rights reserved.</p>\n            <p style=\"margin: 0; font-size: 11px; color: #999999;\">Automated message from contact form</p>\n          </div>\n        </div>\n      </body>\n    </html>\n  `\n}\n\nfunction getClientEmailTemplate(language: string) {\n  const content = {\n    en: {\n      greeting: \"Thank You for Contacting Brandflox\",\n      subtitle: \"We've received your message\",\n      message:\n        \"We appreciate you reaching out to us. Our team will carefully review your inquiry and get back to you within <strong>24 hours</strong>.\",\n      nextSteps: \"What Happens Next?\",\n      steps: [\n        \"Our team will review your message\",\n        \"We'll assess your project needs\",\n        \"You'll hear from us within 24 hours\",\n      ],\n      urgentText: \"If you have any urgent questions in the meantime, please reply to this email.\",\n      closing: \"Best regards,\",\n      team: \"The Brandflox Team\",\n    },\n    fr: {\n      greeting: \"Merci de Nous Avoir Contactés\",\n      subtitle: \"Nous avons reçu votre message\",\n      message:\n        \"Nous apprécions que vous nous ayez contactés. Notre équipe examinera attentivement votre demande et vous répondra dans les <strong>24 heures</strong>.\",\n      nextSteps: \"Que se passe-t-il ensuite ?\",\n      steps: [\n        \"Notre équipe examinera votre message\",\n        \"Nous évaluerons vos besoins de projet\",\n        \"Vous entendrez parler de nous dans les 24 heures\",\n      ],\n      urgentText: \"Si vous avez des questions urgentes, veuillez répondre à cet email.\",\n      closing: \"Cordialement,\",\n      team: \"L'équipe Brandflox\",\n    },\n  }\n\n  const t = content[language as keyof typeof content] || content.en\n\n  return `\n    <!DOCTYPE html>\n    <html>\n      <head>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <title>${t.greeting}</title>\n        <style>\n          body { margin: 0; padding: 0; }\n          .icon { display: inline-block; vertical-align: middle; margin-right: 8px; color: #000000; }\n        </style>\n      </head>\n      <body style=\"margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif; background: #f5f5f5;\">\n        <div style=\"max-width: 600px; margin: 20px auto; background-color: #ffffff; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.1);\">\n          \n          <!-- Header with Logo -->\n          <div style=\"background: #ffffff; padding: 50px 30px; text-align: center; border-bottom: 2px solid #000000;\">\n          <img src=\"cid:logo\" alt=\"Brandflox\" style=\"max-height: 50px; margin-bottom: 12px;\">\n\n            <h1 style=\"margin: 0; font-size: 32px; font-weight: 700; color: #000000; letter-spacing: 0.5px;\">BRANDFLOX</h1>\n            <p style=\"margin: 8px 0 0 0; font-size: 15px; color: #666666;\">${t.subtitle}</p>\n          </div>\n\n          <!-- Content -->\n          <div style=\"padding: 40px 30px; color: #1a1a1a;\">\n            <h2 style=\"margin: 0 0 12px 0; font-size: 26px; font-weight: 700; color: #000000;\">${t.greeting}</h2>\n            <p style=\"margin: 0 0 25px 0; font-size: 15px; color: #555555; line-height: 1.6;\">${t.message}</p>\n\n            <!-- Next Steps -->\n            <div style=\"background: #fafafa; padding: 24px; border-radius: 6px; border-left: 3px solid #000000; margin-bottom: 30px;\">\n              <p style=\"margin: 0 0 15px 0; font-size: 13px; font-weight: 700; color: #000000;\">→ ${t.nextSteps}</p>\n              <ol style=\"margin: 0; padding-left: 20px; font-size: 14px; color: #1a1a1a; line-height: 1.8;\">\n                ${t.steps.map((step) => `<li style=\"margin-bottom: 10px;\">${step}</li>`).join(\"\")}\n              </ol>\n            </div>\n\n            <p style=\"margin: 0 0 30px 0; font-size: 14px; color: #1a1a1a; line-height: 1.6;\">${t.urgentText}</p>\n\n            <p style=\"margin: 0 0 8px 0; font-size: 15px; color: #1a1a1a;\">${t.closing}</p>\n            <p style=\"margin: 0 0 30px 0; font-size: 15px; font-weight: 700; color: #000000;\">${t.team}</p>\n          </div>\n\n          <!-- Social Links -->\n          <div style=\"background-color: #fafafa; padding: 25px 30px; border-top: 1px solid #e0e0e0; text-align: center;\">\n              <p style=\"margin: 0 0 15px 0; font-size: 12px; color: #666666; text-transform: uppercase; font-weight: 700; letter-spacing: 0.5px;\">\n                Connect With Us\n              </p>\n            <div style=\"text-align: center; padding: 20px 0; background-color: #fafafa;\">\n              <a href=\"https://wa.me/212663108538\" style=\"text-decoration: none; color: #000000; margin-right: 15px;\">WhatsApp</a>\n              <a href=\"mailto:brandflox@gmail.com\" style=\"text-decoration: none; color: #000000; margin-right: 15px;\">Email</a>\n              <a href=\"https://www.instagram.com/brandflox\" style=\"text-decoration: none; color: #000000;\">Instagram</a>\n            </div>\n\n            </div>\n\n          <!-- Footer -->\n          <div style=\"background-color: #000000; padding: 25px 30px; text-align: center;\">\n            <p style=\"margin: 0 0 8px 0; font-size: 12px; color: #ffffff;\">© 2025 Brandflox. All rights reserved.</p>\n            <p style=\"margin: 0; font-size: 11px; color: #999999;\">Contact confirmation email</p>\n          </div>\n        </div>\n      </body>\n    </html>\n  `\n}\n\nexport async function POST(request: NextRequest) {\n  try {\n    console.log(\"[BrandFlox] Received contact form submission\")\n\n    const { name, email, phone, company, message, language = \"en\" } = await request.json()\n\n    // Validate required fields\n    if (!name || !email || !phone || !message) {\n      console.log(\"[BrandFlox] Validation failed - missing required fields\")\n      return NextResponse.json({ error: \"Missing required fields\" }, { status: 400 })\n    }\n\n    // Validate email format\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\n    if (!emailRegex.test(email)) {\n      console.log(\"[BrandFlox] Validation failed - invalid email format\")\n      return NextResponse.json({ error: \"Invalid email format\" }, { status: 400 })\n    }\n\n    // Check environment variables are set\n    if (!process.env.EMAIL_USER || !process.env.EMAIL_PASSWORD || !process.env.OWNER_EMAIL) {\n      console.log(\"[BrandFlox] Environment variables missing\")\n      return NextResponse.json({ error: \"Server configuration error - contact administrator\" }, { status: 500 })\n    }\n\n    console.log(\"[BrandFlox] Attempting to send owner email to:\", process.env.OWNER_EMAIL)\n\n    // Send owner email in the specified language\n await transporter.sendMail({\n  from: process.env.EMAIL_USER,\n  to: process.env.OWNER_EMAIL,\n  subject: language === \"fr\"\n    ? `Nouvelle Soumission du Formulaire de ${name}`\n    : `New Contact Form Submission from ${name}`,\n  html: getOwnerEmailTemplate({ name, email, phone, company, message }, language),\n  attachments: [\n    {\n      filename: \"whitelogo.png\",\n      path: \"./public/images/whitelogo.png\", // relative path to your project\n      cid: \"logo\" // matches the <img src=\"cid:logo\">\n    }\n  ]\n})\n\n    console.log(\"[BrandFlox] Owner email sent successfully\")\n    console.log(\"[BrandFlox] Attempting to send confirmation email to:\", email)\n\n    // Send confirmation email to client in their preferred language\nawait transporter.sendMail({\n  from: process.env.EMAIL_USER,\n  to: email,\n  subject: language === \"fr\" ? \"Merci de Nous Avoir Contactés\" : \"Thank You for Contacting Brandflox\",\n  html: getClientEmailTemplate(language),\n  attachments: [\n    {\n      filename: \"whitelogo.png\",\n      path: \"./public/images/whitelogo.png\",\n      cid: \"logo\"\n    }\n  ]\n})\n\n    console.log(\"[BrandFlox] Confirmation email sent successfully\")\n\n    return NextResponse.json({ success: true, message: \"Email sent successfully\" }, { status: 200 })\n  } catch (error) {\n    const errorMessage = error instanceof Error ? error.message : \"Unknown error\"\n    console.error(\"[BrandFlox] Email error:\", errorMessage)\n    console.error(\"[BrandFlox] Full error:\", error)\n\n    return NextResponse.json({ error: `Failed to send email: ${errorMessage}` }, { status: 500 })\n  }\n}\n"],"names":[],"mappings":"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"}}]
}